// /////////////////////////////////////////////////////////////////////////////
// flatten /////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function flatten(array) {
return array.reduce(function (array2,array3) { //use the reduce funtion  to add both arrays together 
  return array2.concat(array3); //use concat to add the arrays together 
});

}

// /////////////////////////////////////////////////////////////////////////////
// loop ////////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function loop(value, test, update, body) {
for(let i = value; test(i); i = update(i)){ //for loop, call the test function for each value 
  body(i); //call the body function for each value .
}

}

// /////////////////////////////////////////////////////////////////////////////
// every ///////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function every(array, test) {
  for(let i = 0; i < array.length; i++){ //loop through the array using for loop
    if(test(array[i]) === false){ //if the call for each value in the array doesnt pass
      return false; //return false;
    }
  }
 return true; //else return true 

}

// /////////////////////////////////////////////////////////////////////////////
// dominantDirection ///////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function dominantDirection(text) {
   let countArr = countBy(text,function(text){ //lets get the count of each script in a string 
    let characterInfo = characterScript(text.charCodeAt())
    
    if(characterInfo){ //if we have a code  
      return characterInfo.direction;    //return that direction, else nothing 
      
    }
  });
  countArr.sort(function(a, b){  //use the sort function to get the values in order
    return b.count - a.count; // return the values of the key count 
  })
return countArr[0].name; //return the first object name value.

  
}

// /////////////////////////////////////////////////////////////////////////////
//  //////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

if ((typeof process !== 'undefined') &&
  (typeof process.versions.node !== 'undefined')) {
  module.exports = {
    flatten,
    loop,
    every,
    dominantDirection,
  };
};
